{"ast":null,"code":"import React,{useEffect,useMemo,useRef,useState}from'react';import{MagnifyingGlassIcon,ChevronDownIcon,XMarkIcon}from'@heroicons/react/24/outline';/**\n * SearchableSelect\n * Props:\n * - items: [{ label, value }]\n * - value: string\n * - onChange: (value) => void\n * - placeholder?: string\n * - minChars?: number (default: 1)\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchableSelect=_ref=>{let{items=[],value,onChange,placeholder='Search...',minChars=1}=_ref;const[open,setOpen]=useState(false);const[query,setQuery]=useState('');const containerRef=useRef(null);const selectedLabel=useMemo(()=>{const found=items.find(i=>i.value===value);return found?found.label:'';},[items,value]);const filtered=useMemo(()=>{const q=query.trim().toLowerCase();if(q.length<minChars)return[];return items.filter(i=>i.label.toLowerCase().includes(q)||i.value.toLowerCase().includes(q)).slice(0,20);},[items,query,minChars]);useEffect(()=>{const onClickOutside=e=>{if(containerRef.current&&!containerRef.current.contains(e.target)){setOpen(false);}};document.addEventListener('mousedown',onClickOutside);return()=>document.removeEventListener('mousedown',onClickOutside);},[]);// Show suggestions even when query is empty (when minChars is 0). Do not auto-close on empty query.\nconst handleSelect=val=>{onChange(val);setOpen(false);};const clearSelection=()=>{onChange('');setQuery('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:containerRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:query||(value?selectedLabel:''),onChange:e=>{setQuery(e.target.value);setOpen(true);},onFocus:()=>setOpen(true),placeholder:placeholder,className:\"input-field pr-20\"}),/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-2 top-1/2 -translate-y-1/2 flex items-center space-x-1\",children:[value&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:clearSelection,className:\"p-1 text-gray-500 hover:text-gray-700\",\"aria-label\":\"Clear\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setOpen(o=>!o),className:\"p-1 text-gray-500 hover:text-gray-700\",\"aria-label\":\"Toggle\",children:/*#__PURE__*/_jsx(ChevronDownIcon,{className:\"w-5 h-5 transition-transform \".concat(open?'rotate-180':'')})})]})]})}),open&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute z-20 mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\",children:query.trim().length<minChars?/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 text-sm text-gray-500\",children:[\"Type at least \",minChars,\" character(s) to see suggestions\"]}):filtered.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 text-sm text-gray-500\",children:\"No matches\"}):filtered.map(item=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleSelect(item.value),className:\"w-full text-left px-3 py-2 hover:bg-gray-50 \".concat(value===item.value?'bg-primary-50 text-primary-700':'text-gray-700'),children:item.label},item.value))})]});};export default SearchableSelect;","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","MagnifyingGlassIcon","ChevronDownIcon","XMarkIcon","jsx","_jsx","jsxs","_jsxs","SearchableSelect","_ref","items","value","onChange","placeholder","minChars","open","setOpen","query","setQuery","containerRef","selectedLabel","found","find","i","label","filtered","q","trim","toLowerCase","length","filter","includes","slice","onClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","handleSelect","val","clearSelection","className","ref","children","type","onFocus","onClick","o","concat","map","item"],"sources":["C:/Users/VIAYSRINIVAS/CascadeProjects/fertilizer-recommendation-system/frontend/src/components/SearchableSelect.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { MagnifyingGlassIcon, ChevronDownIcon, XMarkIcon } from '@heroicons/react/24/outline';\n\n/**\n * SearchableSelect\n * Props:\n * - items: [{ label, value }]\n * - value: string\n * - onChange: (value) => void\n * - placeholder?: string\n * - minChars?: number (default: 1)\n */\nconst SearchableSelect = ({ items = [], value, onChange, placeholder = 'Search...', minChars = 1 }) => {\n  const [open, setOpen] = useState(false);\n  const [query, setQuery] = useState('');\n  const containerRef = useRef(null);\n\n  const selectedLabel = useMemo(() => {\n    const found = items.find(i => i.value === value);\n    return found ? found.label : '';\n  }, [items, value]);\n\n  const filtered = useMemo(() => {\n    const q = query.trim().toLowerCase();\n    if (q.length < minChars) return [];\n    return items.filter(i => i.label.toLowerCase().includes(q) || i.value.toLowerCase().includes(q)).slice(0, 20);\n  }, [items, query, minChars]);\n\n  useEffect(() => {\n    const onClickOutside = (e) => {\n      if (containerRef.current && !containerRef.current.contains(e.target)) {\n        setOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', onClickOutside);\n    return () => document.removeEventListener('mousedown', onClickOutside);\n  }, []);\n\n  // Show suggestions even when query is empty (when minChars is 0). Do not auto-close on empty query.\n\n  const handleSelect = (val) => {\n    onChange(val);\n    setOpen(false);\n  };\n\n  const clearSelection = () => {\n    onChange('');\n    setQuery('');\n  };\n\n  return (\n    <div className=\"relative\" ref={containerRef}>\n      <div className=\"flex items-center\">\n        <div className=\"relative flex-1\">\n          <input\n            type=\"text\"\n            value={query || (value ? selectedLabel : '')}\n            onChange={(e) => {\n              setQuery(e.target.value);\n              setOpen(true);\n            }}\n            onFocus={() => setOpen(true)}\n            placeholder={placeholder}\n            className=\"input-field pr-20\"\n          />\n          {/* Left icon */}\n          <MagnifyingGlassIcon className=\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none\" />\n          {/* Right controls */}\n          <div className=\"absolute right-2 top-1/2 -translate-y-1/2 flex items-center space-x-1\">\n            {value && (\n              <button type=\"button\" onClick={clearSelection} className=\"p-1 text-gray-500 hover:text-gray-700\" aria-label=\"Clear\">\n                <XMarkIcon className=\"w-5 h-5\" />\n              </button>\n            )}\n            <button type=\"button\" onClick={() => setOpen(o => !o)} className=\"p-1 text-gray-500 hover:text-gray-700\" aria-label=\"Toggle\">\n              <ChevronDownIcon className={`w-5 h-5 transition-transform ${open ? 'rotate-180' : ''}`} />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Dropdown */}\n      {open && (\n        <div className=\"absolute z-20 mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\n          {query.trim().length < minChars ? (\n            <div className=\"px-3 py-2 text-sm text-gray-500\">Type at least {minChars} character(s) to see suggestions</div>\n          ) : filtered.length === 0 ? (\n            <div className=\"px-3 py-2 text-sm text-gray-500\">No matches</div>\n          ) : (\n            filtered.map((item) => (\n              <button\n                type=\"button\"\n                key={item.value}\n                onClick={() => handleSelect(item.value)}\n                className={`w-full text-left px-3 py-2 hover:bg-gray-50 ${value === item.value ? 'bg-primary-50 text-primary-700' : 'text-gray-700'}`}\n              >\n                {item.label}\n              </button>\n            ))\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SearchableSelect;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}